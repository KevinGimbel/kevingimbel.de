<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>A closer look to closure &mdash; KevOps ‚Äî DevOps, Cooking, and everything else I want to write about</title>
    <meta name="author" content="Kevin Gimbel">
    <meta name="description" content="Personal website of Kevin Gimbel, DevOps Engineer, about photography, books, coding, devops, gaming, and whatever comes in between">
    <meta keywords="javascript closure scoping  blog coding javascript tutorial  ">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üßô‚Äç‚ôÇÔ∏è</text></svg>">
    
    
    
    <link rel="stylesheet" href="https://kevingimbel.de/sass/main.min.css">
    
    <link rel="stylesheet" href="https://kevingimbel.de/sass/page.min.css">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@kevingimbel">
    <meta name="twitter:creator" content="@_kevinatari">
    <meta name="twitter:title" content="A closer look to closure">
    <meta name="twitter:description" content="Closure is a very interesting concept in JavaScript. It basically determinse where and how variables or functions are accessable and where not. Since this is an essential part of JavaScript and one can run into quite some problems I want to try and give short introduction to closure and what it can be good for. It&rsquo;s good to have at least basic understanding of JavaScript.
So before I start I&rsquo;d like to say that I consider myself a JavaScript beginner and this is how I understand closure and scopes at the moment.">
    

</head>
<body class="type-page section-blog">
    <script type="text/javascript">(function(document,window,undefined){function css_to_int(cssStyleDeclaration,unitStr){return parseInt(cssStyleDeclaration.replace(unitStr,''));}
function pre_header_show(element){element.style.setProperty('margin-top',0);element.dataset.shown=true;}
function pre_header_hide(element){let this_height=window.getComputedStyle(element).height;element.style.setProperty('margin-top',`-${this_height}`);element.dataset.shown=false;}
function is_element_hidden(element){return['none'].indexOf(window.getComputedStyle(element).display)>-1;}
document.addEventListener('DOMContentLoaded',()=>{const pre_header_element=document.querySelector('#pre-header');const pre_header_toggle=document.querySelector('#pre-header-toggle');if(!is_element_hidden(pre_header_toggle)){pre_header_hide(pre_header_element);}
pre_header_toggle.addEventListener('click',(event)=>{if(pre_header_element.dataset.shown=="true"){pre_header_hide(pre_header_element);}else{pre_header_show(pre_header_element);}});window.addEventListener('resize',()=>{if(!is_element_hidden(pre_header_toggle)){pre_header_hide(pre_header_element);}else{pre_header_show(pre_header_element);}});});}(document,window));</script>
    
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.colorswitch.min.js"></script>
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.darkmode.min.js"></script>
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.fontsize.min.js"></script>
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.contentwidth.min.js"></script>
    <span style="display: none;" aria-hidden="true" id="widget_color_changer_txt_keep">Keep current color theme</span>
    <span style="display: none;" aria-hidden="true" id="widget_color_changer_txt_random">Use random color theme</span>
    
    <section class="main-grid">
    
        <header class="pre-header" id="pre-header">
            <kg-colorswitcher>Color theme</kg-colorswitcher>
            <kg-darkmode>Dark mode</kg-darkmode>
            
            <kg-fontsize>Font size</kg-fontsize>
            <kg-contentwidth>Content width</kg-contentwidth>
            
        </header>
    
        <header class="site-header">
            <nav role="navigation" id="navigation" aria-label="Main Navigation">
                <ul class="nav-main">
                    
                    <li class="nav-item">
                        <a href="/" data-perm="/blog/2014/07/a-closer-look-to-closure/" >Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="/blog/" data-perm="/blog/2014/07/a-closer-look-to-closure/" >Blog</a>
                    </li>
                    <li class="nav-item">
                        <a href="/about/" data-perm="/blog/2014/07/a-closer-look-to-closure/" >About</a>
                    </li>
                    <li class="nav-item">
                        <a href="/photography/" data-perm="/blog/2014/07/a-closer-look-to-closure/" >Photography</a>
                    </li><button id="pre-header-toggle" class="btn-preheader-toggle">Settings</button>
                    </ul>
                    </nav>
        </header>

    <section class="site-main-content">
<main id="main" class="main">
<section class="article-single" style="--this-border-radius: 24px 30px 48px 60px;"> 
        <header class="article-header">
            





<section class="age-note">
    <h2>ATTENTION!</h2>
    <p>This article is over 4 years old, it may be outdated!</p>
</section>


<h1>A closer look to closure</h1>




<p class="publish-date">Published on 07/20/2014 </p>
        </header>
        <article class="article-content">

            
            <div class="content">
                <p>Closure is a very interesting concept in JavaScript. It basically determinse where and how variables or
functions are accessable and where not. Since this is an essential part of JavaScript and one can run into quite some
problems I want to try and give short introduction to closure and what it can be good for. It&rsquo;s good to have at least
basic understanding of JavaScript.</p>
<p>So before I start I&rsquo;d like to say that I consider myself a JavaScript beginner and this is how I understand closure
and scopes at the moment. If you happen to find mistakes please <a href="https://twitter.com/_kevinatari">tweet me</a> or <a href="https://github.com/kevingimbel/kevingimbel.github.io/issues?page=1&amp;state=open">open an
issue</a>.</p>
<p>Consider the following example</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;

(<span style="color:#66d9ef">function</span>(){
  <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
}());

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">x</span>);
</code></pre></div><p>What value will <code>x</code> have when logged to the console? 5 or 10? The correct answer is 5, because inside the immediate
executing function <code>var x</code> does not reference the previously defined <code>var x</code>. They&rsquo;re both standalone and do not effect
each other. Let&rsquo;s try this again and see what happens now</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span>;

(<span style="color:#66d9ef">function</span>() {
  <span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">10</span>;
}());

<span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">x</span>);
</code></pre></div><p>What value will <code>x</code> have now? Still 5, because it&rsquo;s the same function but we only left the <code>var</code> keyword? Nope, now <code>x</code>
inside the immediate executing function references the previously defined <code>var x</code> and will update it&rsquo;s value, so
<code>console.log(x)</code> results to 10 this time. As you can see just now, leaving out the single word <code>var</code> can change how your
program behaves. The missing var statment, where closure hits hard and overrides the variable, can really be annoying
because JavaScript doesn&rsquo;t throw errors. Overriding values inside a closure, e.g. the immediate executing function, is
perfectly fine.</p>
<p>So what happens if we pass <code>x</code>, which is 10 now, to the immediate executing function and declare &lsquo;x = 15&rsquo; inside the
functions body? Will <code>x</code> become 15 or stay 10?</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#75715e">// x is 10 at this point
</span><span style="color:#75715e"></span>(<span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">x</span>){
	<span style="color:#a6e22e">x</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">15</span>;
}(<span style="color:#a6e22e">x</span>));
</code></pre></div><p>As the result shows, x is still 10. But wait, wasn&rsquo;t it supposed to be overridden if we don&rsquo;t declare <code>var x = 15</code>? Well
that is true, but since we pass x as a parameter, x is &ldquo;re-defined&rdquo; as a local variable and, inside the functions body, it is
indeed 15 - outside it is not.</p>
<!-- raw HTML omitted -->
<h3 id="what-can-closures-do-for-me">What can closures do for me?</h3>
<p>What can it do? Good stuff. Closures can help to organize code and keep the global namespace clear. In general one shouldn&rsquo;t write variables into the global namespace because they&rsquo;re almost asking to be overriden or changed. Let&rsquo;s say one writes a function like this.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">assert</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>(<span style="color:#a6e22e">con</span>, <span style="color:#a6e22e">msg</span>) {
  <span style="color:#66d9ef">if</span>(<span style="color:#f92672">!</span><span style="color:#a6e22e">con</span>) {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">error</span>(<span style="color:#a6e22e">msg</span>);
  } <span style="color:#66d9ef">else</span> {
    <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#a6e22e">msg</span>);
  }
}
</code></pre></div><p>That&rsquo;s a super simple assert function to see if a statment (<code>con</code>dition) is true or false. If it&rsquo;s false we&rsquo;ll log a console.error(), if not we&rsquo;ll log a normal console.log() statement. This is great and perfectly fine unless someone else
tries to use a function with the same name. Then there&rsquo;ll be a &ldquo;conflict&rdquo; and the last declared function overrides the other. (In this example I&rsquo;ll use a function called myFunction)</p>
<!-- raw HTML omitted -->
<p>So still, what can closure do for me? It can save my declared functions - inside a closure. So far all closure examples were immediate executing function, but Objects also create closures, assigning all there properties to a specific &ldquo;namespace&rdquo;.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript"><span style="color:#66d9ef">var</span> <span style="color:#a6e22e">myFunction</span>() <span style="color:#f92672">=</span> <span style="color:#66d9ef">function</span>() {
  <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">true</span>;
}

<span style="color:#66d9ef">var</span> <span style="color:#a6e22e">myNamespace</span> <span style="color:#f92672">=</span> {
  <span style="color:#a6e22e">myFunction</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">function</span>() {
    <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">false</span>;
  }
}
</code></pre></div><p>This way we introduce one variable to the global scope: myNamespace and keep all the functions inside this scope.
Therefore, the myFunction() is still accessable within the scope and has the expected results, no matter who
declares myFunction in the globale scope.</p>
<!-- raw HTML omitted -->

            </div>
        </article>
    </section>
</main>
</section>

    <section class="site-support">
<section class="tags-categories">
    

<section class="categories">
    <h3>Categories</h3>
    <ul class="tag-list">
        
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under coding"
                href="https://kevingimbel.de/categories/coding/">coding</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under javascript"
                href="https://kevingimbel.de/categories/javascript/">javascript</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under tutorial"
                href="https://kevingimbel.de/categories/tutorial/">tutorial</a>
        </li></ul>
</section>

    

<section class="tags">
    <h3>Tags</h3>
    <ul class="tag-list">
        
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with javascript"
                href="https://kevingimbel.de/tags/javascript/">javascript</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with closure"
                href="https://kevingimbel.de/tags/closure/">closure</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with scoping"
                href="https://kevingimbel.de/tags/scoping/">scoping</a>
        </li></ul>
</section>

</section>
    <section class="article-nextprev">
  <article class="article__next">
      <span class="txt--bold">Next article</span><br>
  
      <a class="txt--medium" href="https://kevingimbel.de/blog/2014/07/conditional-css/" title="Conditional CSS">Conditional CSS</a>
  
  </article>

  <article class="article__prev">
      <span class="txt--bold">Previous article</span><br>
  
      <a class="txt--medium" href="https://kevingimbel.de/blog/2014/07/noobish-vim/" title="Noobish VIM">Noobish VIM</a>
      
  </article>
</section>
    <section class="support">
    <h4>Like this?</h4>
    <p>If this content has helped you or your company, consider making a donation to a good cause.</p>
    <p>For example, consider donating to the following causes:</p>
    <div class="support-cause-list__wrapper">
        <ul class="support-cause-list">
            <li class="head"><b>International</b></li>
            <li><a rel="nofollow" href="https://donate.doctorswithoutborders.org/onetime.cfm">Doctors without borders</a></li>
            <li><a rel="nofollow" href="https://www.amnesty.org/en/donate/">Amnesty International</a></li>
        </ul>
        <ul class="support-cause-list">
            <li class="head"><b>Germany</b></li>
            <li><a rel="nofollow" href="https://www.uno-fluechtlingshilfe.de/unterstuetzen/spenden/jetzt-spenden/">UNO Fl√ºchtlingshilfe</a></li>
            <li><a rel="nofollow" href="https://www.amnesty.de/spenden">Amnesty</a></li>
            <li><a rel="nofollow" href="https://www.greenpeace.de/spenden">Greenpeace</a></li>
        </ul>
    </div>
</section>

    <section class="author">
    <div class="left">
        <img src="/images/general/kevin-gimbel-2020_hu6d6852ea5f23d3570eb4d6a09e2c1824_341389_200x200_resize_q75_box.jpg" alt="A Selfie of me" class="avatar">
    </div>
    <div class="right">
        <p>Kevin Gimbel</p>
<p><strong>is a DevOps Engineer and avid (Video) Gamer</strong>. He&rsquo;s also interested in Sci-Fi, Cyberpunk, and dystopian books.</p>
<p><em>Wearing a mask is a good idea!</em></p>
<p>You can find out more <a href="/about/">about me</a> if you wish.</p>

    </div>
</section>
</section>

    <footer class="site-footer footer">
        
        
        
        <nav role="navigation" id="footer-navigation" aria-label="Secondary Navigation">
        <p>More sections on this site </p>
        <ul class="nav-footer">
            <li class="nav-item">
                <a href="/reading/">Books</a>
            </li>
            <li class="nav-item">
                <a href="/link-list/">Links</a>
            </li>
            <li class="nav-item">
                <a href="/art/">Art</a>
            </li>
            <li class="nav-item">
                <a href="/now/">Now</a>
            </li>
            <li class="nav-item">
                <a href="/rss/">RSS</a>
            </li></ul>
        </nav>
        


        <div class="left">
            <p>&copy; 2009 - 2020 Kevin Gimbel. <a href="https://github.com/kevingimbel/kevingimbel.de/blob/master/LICENSE" title="View License on GitHub.com">License</a>. <a href="/blog/2020/01/no-tracking/">No Tracking</a>.</p>
            <p><small>Follow me on <a href="https://twitter.com/kevingimbel" title="Follow me on Twitter">Twitter @kevingimbel</a></small></p>
            </p>
        </div>
        <div class="right">
            <p><small class="xx-small">Found an issue? Edit this <a href="https://github.com/kevingimbel/kevingimbel.de/tree/master/content/en/blog/2014-07-20-a-closer-look-to-closure.md">page on GitHub.com</a></a></small></p>
            <p><small class="xx-small">Made in Europe üá™üá∫ with love, <a href="/thanks">open source code</a> and <a href="https://gohugo.io/" title="Hugo static site generator" rel="nofollow">hugo</a>.<span class="fg-accent">&hearts;</span>.</small>
            </p>
            <p><small class="xx-small"><a href="/legal">Imprint</a></small></p>
            <p><small class="xx-small"><code>¬Ø\_(„ÉÑ)_/¬Ø</code></small></p>
        </div>  
    </footer>
    </section>
    


</body>

</html>
