<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Pure JavaScript slider &mdash; KevOps</title>
    <meta name="author" content="Kevin Gimbel">
    <meta name="description" content="Personal website of Kevin Gimbel, DevOps Engineer, about photography, books, coding, devops, gaming, and whatever comes in between">
    <meta keywords="javascript  blog coding javascript frontend tutorial  ">
    <link rel="stylesheet" href="/style.css">
    </head>

<body>
    <header class="intro-text">
        <span>
        
        
        Pure JavaScript slider
        
        </span>
    </header>


    <nav role="navigation" id="navigation" aria-label="Main Navigation">
        <ul class="nav-main"><li class="">
                <a href="/">
                    <span>Home</span>
                </a>
            </li><li class="">
                <a href="/about/">
                    <span>About</span>
                </a>
            </li><li class="">
                <a href="/blog/">
                    <span>Blog</span>
                </a>
            </li><li class="">
                <a href="/photography/">
                    <span>Photography</span>
                </a>
            </li><li class="">
                <a href="/reading/">
                    <span>Reading</span>
                </a>
            </li><li class="">
                <a href="/art/">
                    <span>Art</span>
                </a>
            </li><li class="">
                <a href="/now/">
                    <span>Now</span>
                </a>
            </li></ul>
    </nav>

<main id="main" class="main">
    <section class="article-single">
        <article class="article-content">
            
            





<section class="age-note">
    <h2>ATTENTION!</h2>
    <p>This article is over 4 years old, it may be outdated!</p>
</section>



<p>Written on <time datetime="2014-02-22 00:00:00 &#43;0000 UTC">22. Feb 2014</time>  </p>
            <p>The great thing when you&rsquo;re a beginner in any programming language (or in anything in general) is, that even small successes make you happy and proud of what you did. I&rsquo;m very  proud of my <a href="http://kevingimbel.com/to-infinity-and-beyond/">back to top script</a> even though it&rsquo;s not perfect at all. I could make a back to top button with jQuery in a few minutes but it wouldn&rsquo;t be that much fun. However, I made another JavaScript thing I&rsquo;m proud of: A pure JavaScript slider.</p>
<!-- raw HTML omitted -->
<p>The slider runs forever in a loop, animating images to the left until the last image is reached. When the last image is reached it will animate all back to the first image (I&rsquo;m not happy with this animation yet) and will start over. Pretty simple. The hardest part for me was - and still is - the animation timing. I&rsquo;m may over-thinking stuff but I can&rsquo;t figure out a formula to calculate a good timing based on how many images the slider has. If someone has an idea, fork the pen or <a href="http://twitter.com/_kevinatari">tweet me</a>.</p>
<p>First of all I defined some variables.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">     <span style="color:#75715e">// current image is 0
</span><span style="color:#75715e"></span> <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,
     <span style="color:#75715e">// used for loops
</span><span style="color:#75715e"></span>     <span style="color:#a6e22e">i</span>,
     <span style="color:#75715e">// the whole slider element
</span><span style="color:#75715e"></span>     <span style="color:#a6e22e">slider</span> <span style="color:#f92672">=</span> document.<span style="color:#a6e22e">querySelector</span>(<span style="color:#e6db74">&#39;[data-js=&#34;sslide&#34;]&#39;</span>),
     <span style="color:#75715e">// all images inside the slider
</span><span style="color:#75715e"></span>     <span style="color:#a6e22e">allImages</span> <span style="color:#f92672">=</span>  <span style="color:#a6e22e">slider</span>.<span style="color:#a6e22e">querySelectorAll</span>(<span style="color:#e6db74">&#39;img&#39;</span>),
     <span style="color:#75715e">// the width of 1 image based on all images (used in % later)
</span><span style="color:#75715e"></span>     <span style="color:#a6e22e">imgWidth</span> <span style="color:#f92672">=</span> Math.<span style="color:#a6e22e">ceil</span>(<span style="color:#ae81ff">100</span> <span style="color:#f92672">/</span> <span style="color:#a6e22e">allImages</span>.<span style="color:#a6e22e">length</span>),
     <span style="color:#75715e">// the slider width based on the number of images
</span><span style="color:#75715e"></span>     <span style="color:#a6e22e">sliderWidth</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">allImages</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">*</span> <span style="color:#ae81ff">100</span>;
</code></pre></div><p>Next I set the width of all images as well as the slider.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    
  <span style="color:#a6e22e">slider</span>.<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">sliderWidth</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;%&#39;</span>;
    
  <span style="color:#66d9ef">for</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">allImages</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
    <span style="color:#a6e22e">allImages</span>[<span style="color:#a6e22e">i</span>].<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">width</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imgWidth</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#39;%&#39;</span>;
  }
</code></pre></div><p>Now the slider and images have the correct width (in percent) and I began to make the animation part. It&rsquo;s made with the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Window.setInterval">setInterval</a> JavaScript function.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">animateLeft</span>(<span style="color:#a6e22e">cur</span>) {
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>,
          <span style="color:#a6e22e">time</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">animate</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(<span style="color:#66d9ef">function</span>() {
      <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">imgWidth</span>) {
        <span style="color:#a6e22e">allImages</span>[<span style="color:#a6e22e">cur</span>].<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">marginLeft</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span>  <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;%&#34;</span>;
        <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>;
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#a6e22e">clearInterval</span>(<span style="color:#a6e22e">animate</span>);
      }
      }, <span style="color:#a6e22e">time</span>);  
   }
</code></pre></div><p>The interval runs as long as <code>i</code> is smaller or equal to the image width. Because the interval is set to 50ms it runs &ldquo;fast&rdquo; and sets the images <code>margin-left</code> rapidly to <code>-i%</code> and because it runs as long as <code>i</code> is smaller than the image width it hides the image completely to the left. Pretty simple right? However, <code>time</code> is at the moment a variable that is set to 50 because I couldn&rsquo;t figure out a good way to calculate it.</p>
<p>Another function I use is <code>animateRight</code> that is just the opposite of <code>animateLeft</code>. It is only used to animate all images back to the start and has the same markup as <code>animateLeft</code> expect it runs revers (<code>i--</code>). I combine it with a <code>reset</code> function that also resets the <code>current</code> variable to 0.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">  <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">animateRight</span>(<span style="color:#a6e22e">cur</span>) {
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">imgWidth</span>,
          <span style="color:#a6e22e">time</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">50</span>;
      <span style="color:#66d9ef">var</span> <span style="color:#a6e22e">animate</span> <span style="color:#f92672">=</span> <span style="color:#a6e22e">setInterval</span>(<span style="color:#66d9ef">function</span>() {
      <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">sliderWidth</span>) {
        <span style="color:#a6e22e">allImages</span>[<span style="color:#a6e22e">cur</span>].<span style="color:#a6e22e">style</span>.<span style="color:#a6e22e">marginLeft</span> <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;-&#34;</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">i</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;%&#34;</span>;
        <span style="color:#a6e22e">i</span><span style="color:#f92672">--</span>;
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#a6e22e">clearInterval</span>(<span style="color:#a6e22e">animate</span>);
      }
      }, <span style="color:#a6e22e">time</span>);  
   } 
    
    <span style="color:#66d9ef">function</span> <span style="color:#a6e22e">reset</span>() {
      <span style="color:#66d9ef">for</span>(<span style="color:#a6e22e">i</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; <span style="color:#a6e22e">i</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">allImages</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>; <span style="color:#a6e22e">i</span><span style="color:#f92672">++</span>) {
        <span style="color:#a6e22e">animateRight</span>(<span style="color:#a6e22e">i</span>);
      }
      <span style="color:#75715e">// resseting the current image to the first image
</span><span style="color:#75715e"></span>      <span style="color:#a6e22e">current</span> <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
    }   
</code></pre></div><p>That&rsquo;s all the functions I needed for this slider - I could&rsquo;ve combined the <code>animateLeft</code> and <code>animateRight</code> function and if I continue developing this slider I&rsquo;ll make it. Last thing to do: Call a final interval that handles the sliding of all images.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-javascript" data-lang="javascript">    <span style="color:#a6e22e">setInterval</span>(<span style="color:#66d9ef">function</span> () {
      <span style="color:#66d9ef">if</span>(<span style="color:#a6e22e">current</span> <span style="color:#f92672">&lt;=</span> <span style="color:#a6e22e">allImages</span>.<span style="color:#a6e22e">length</span> <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>) {
        <span style="color:#a6e22e">animateLeft</span>(<span style="color:#a6e22e">current</span>);
        <span style="color:#a6e22e">current</span><span style="color:#f92672">++</span>;
        
      } <span style="color:#66d9ef">else</span> {
        <span style="color:#a6e22e">reset</span>();
      }
    }, <span style="color:#ae81ff">3000</span>);
</code></pre></div>
        </article>
    </section>

    <section class="tags-categories">
        

<section class="categories">
    <h3>Categories</h3>
    <ul class="tag-list">
        
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under coding"
                href="https://kevingimbel.de/categories/coding/">coding</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under javascript"
                href="https://kevingimbel.de/categories/javascript/">javascript</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under frontend"
                href="https://kevingimbel.de/categories/frontend/">frontend</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under tutorial"
                href="https://kevingimbel.de/categories/tutorial/">tutorial</a>
        </li></ul>
</section>

        

<section class="tags">
    <h3>Tags</h3>
    <ul class="tag-list">
        
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with javascript"
                href="https://kevingimbel.de/tags/javascript/">javascript</a>
        </li></ul>
</section>

    </section>

    <section class="support">
    <h4>Like this?</h4>
    <p>This wesbite contains no <em>advertisement</em>, no <em>tracking</em>, no paid articles, and no
        shady-things-whatsoever. It is just content, provided free of charge and with accessibility in mind.</p>
    <p>If you would like to support me in providing <a href="/blog">content</a> - and <a
            href="https://github.com/kevingimbel" title="View open source code by Kevin Gimbel on GitHub">code</a> - for
        free or if this page has helped you or your company, consider supporting me directly.</p>
    <p>You can support me through:</p>
    <ul>
        <li><a href="https://paypal.me/kevingimbel">PayPal</a></li>
        <li><a href="https://liberapay.com/kevin/">Liberapay</a></li>
    </ul>
</section>
    <section class="author">
    <div class="left">
        <img src="/img/self-2019-small.jpg" alt="" class="avatar">
    </div>
    <div class="right">
        <h4>Kevin Gimbel</h4>
        <p><strong>is a DevOps Engineer and avid (Video) Gamer</strong>. He's also interested in Sci-Fi, Cyberpunk, and
            dystopian books.<br>
            You can find out more <a href="/about/" title="Read more about me">about me</a> if you wish.</p>
        <p>Follow me on <a href="https://bullgit.party/@kevin" rel="nofollow"
                title="Follow Kevin Gimbel on Mastodon, the decentralised social network"> Mastodon</a>. </p>
    </div>
</section>
</main>
<footer class="footer">
        <div class="left">
            <p>&copy; 2009 - 2020 Kevin Gimbel. See <a href="https://github.com/kevingimbel/kevingimbel.de/blob/master/LICENSE" title="View license on GitHub.com">License</a>. <a href="/blog/2020/01/no-tracking/">No Tracking</a>.</p>
            <p><small>Follow me on Mastodon <a href="https://bullgit.party/@kevin" rel="me">kevin@bullgit.party</a></small></p>
            <p><small>You can contact me on Matrix at <a href="https://matrix.to/#/@kevingimbel:bullgit.science" title="Contact me on Matrix, a decentralised real-time messenger">@kevingimbel:bullgit.science</a></small>
            </p>
        </div>
        <div class="right">
            <p><small class="xx-small">Found an issue? <a href="https://github.com/kevingimbel/kevingimbel.de/tree/master/content/blog/2014-02-22-pure-javascript-slider.md">Edit on
                        GitHub</a></small></p>
            <p><small class="xx-small">Made in Europe 🇪🇺 with love, <a href="/thanks">open source code</a> and <a href="https://gohugo.io/" title="Hugo static site generator" rel="nofollow">hugo</a>.<span class="fg-accent">&hearts;</span>.</small>
            </p>
            <p><small class="xx-small"><a href="/legal">Impressum / Imprint</a></small></p>
            <p><small class="xx-small"><code>¯\_(ツ)_/¯</code></small></p>
        </div>
    </footer>


    

    

    
</body>

</html>
