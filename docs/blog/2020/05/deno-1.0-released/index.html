<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Deno 1.0 released &mdash; KevOps ‚Äî DevOps, Cooking, and everything else I want to write about</title>
    <meta name="author" content="Kevin Gimbel">
    <meta name="description" content="Personal website of Kevin Gimbel, DevOps Engineer, about photography, books, coding, devops, gaming, and whatever comes in between">
    <meta keywords="javascript node runtime rust  blog coding  ">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üßô‚Äç‚ôÇÔ∏è</text></svg>">
    
    
    
    <link rel="stylesheet" href="https://kevingimbel.de/sass/main.min.css">
    
    <link rel="stylesheet" href="https://kevingimbel.de/sass/page.min.css">

    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@kevingimbel">
    <meta name="twitter:creator" content="@_kevinatari">
    <meta name="twitter:title" content="Deno 1.0 released">
    <meta name="twitter:description" content="Deno made its first stable release with the release of v1!
I&rsquo;ve heard of Deno in the past but I never really cared for it. My work with JavaScript has always been in the browser and I&rsquo;m not too much of a NodeJS fan - mainly because of the security and sandbox aspects of the runtime (or more, the lack of them). Deno aims to do better and fix some (or all?">
    

</head>
<body class="type-page section-blog">
    <script type="text/javascript">(function(document,window,undefined){function css_to_int(cssStyleDeclaration,unitStr){return parseInt(cssStyleDeclaration.replace(unitStr,''));}
function pre_header_show(element){element.style.setProperty('margin-top',0);element.dataset.shown=true;}
function pre_header_hide(element){let this_height=window.getComputedStyle(element).height;element.style.setProperty('margin-top',`-${this_height}`);element.dataset.shown=false;}
function is_element_hidden(element){return['none'].indexOf(window.getComputedStyle(element).display)>-1;}
document.addEventListener('DOMContentLoaded',()=>{const pre_header_element=document.querySelector('#pre-header');const pre_header_toggle=document.querySelector('#pre-header-toggle');if(!is_element_hidden(pre_header_toggle)){pre_header_hide(pre_header_element);}
pre_header_toggle.addEventListener('click',(event)=>{if(pre_header_element.dataset.shown=="true"){pre_header_hide(pre_header_element);}else{pre_header_show(pre_header_element);}});window.addEventListener('resize',()=>{if(!is_element_hidden(pre_header_toggle)){pre_header_hide(pre_header_element);}else{pre_header_show(pre_header_element);}});});}(document,window));</script>
    
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.colorswitch.min.js"></script>
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.darkmode.min.js"></script>
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.fontsize.min.js"></script>
    <script type="text/javascript" src="https://kevingimbel.de/js/webcomponent.contentwidth.min.js"></script>
    <span style="display: none;" aria-hidden="true" id="widget_color_changer_txt_keep">Keep current color theme</span>
    <span style="display: none;" aria-hidden="true" id="widget_color_changer_txt_random">Use random color theme</span>
    
    <section class="main-grid">
    
        <header class="pre-header" id="pre-header">
            <kg-colorswitcher>Color theme</kg-colorswitcher>
            <kg-darkmode>Dark mode</kg-darkmode>
            
            <kg-fontsize>Font size</kg-fontsize>
            <kg-contentwidth>Content width</kg-contentwidth>
            
        </header>
    
        <header class="site-header">
            <nav role="navigation" id="navigation" aria-label="Main Navigation">
                <ul class="nav-main">
                    
                    <li class="nav-item">
                        <a href="/" data-perm="/blog/2020/05/deno-1.0-released/" >Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="/blog/" data-perm="/blog/2020/05/deno-1.0-released/" >Blog</a>
                    </li>
                    <li class="nav-item">
                        <a href="/about/" data-perm="/blog/2020/05/deno-1.0-released/" >About</a>
                    </li>
                    <li class="nav-item">
                        <a href="/photography/" data-perm="/blog/2020/05/deno-1.0-released/" >Photography</a>
                    </li><button id="pre-header-toggle" class="btn-preheader-toggle">Settings</button>
                    </ul>
                    </nav>
        </header>

    <section class="site-main-content">
<main id="main" class="main">
<section class="article-single" style="--this-border-radius: 17px 27px 34px 54px;"> 
        <header class="article-header">
            






<h1>Deno 1.0 released</h1>




<p class="publish-date">Published on 05/18/2020 </p>
        </header>
        <article class="article-content">

            
            <div class="content">
                <p>Deno made its first stable release with the release of v1!</p>
<p>I&rsquo;ve heard of Deno in the past but I never really cared for it. My work with JavaScript has always been in the browser and I&rsquo;m not too much of a NodeJS fan - mainly because of the security and sandbox aspects of the runtime (or more, the lack of them). Deno aims to do better and fix some (or all?) of the NodeJS mistakes, like making access to the filesystem and network impossible unless allowed. In NodeJS, a script can read, write, send and receive network packages and basically do whatever it wants - there&rsquo;s little restriction and this has lead to malicious code executions in the past.</p>
<h2 id="quick-overview">Quick overview</h2>
<p>Deno is a JavaScript runtime that supports TypeScript out of the box. We can write regular JavaScript and execute it through the Deno toolchain, as the following example shows.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">// file: hello.ts
</span><span style="color:#75715e"></span><span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Hello from Deno!&#34;</span>);
</code></pre></div><p>If we save the file as <code>hello.ts</code> we can just run it.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ deno run hello.ts
Hello from Deno!
</code></pre></div><p>This means with Deno all the benefits of TypeScript can be used out of the box, like &hellip; Types. üò¨</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">// file: sum.ts
</span><span style="color:#75715e"></span><span style="color:#66d9ef">function</span> <span style="color:#a6e22e">sum</span>(<span style="color:#a6e22e">a</span>: <span style="color:#66d9ef">number</span>, <span style="color:#a6e22e">b</span>: <span style="color:#66d9ef">number</span>)<span style="color:#f92672">:</span> <span style="color:#66d9ef">number</span> {
  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">a</span> <span style="color:#f92672">+</span> <span style="color:#a6e22e">b</span>;
}
</code></pre></div><p>By annotating the parameters (<code>a: number</code>) we can tell the compiler what type of parameter this functions expects. If we try to execute it with a wrong type, the compiler throws an error.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">// file: ts_example.ts
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> <span style="color:#f92672">*</span> <span style="color:#66d9ef">as</span> <span style="color:#a6e22e">sum</span> <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;./sum.ts&#34;</span>;

<span style="color:#a6e22e">sum</span>(<span style="color:#ae81ff">4</span>, <span style="color:#e6db74">&#34;6&#34;</span>);
</code></pre></div><p>When we try to tun the script with Deno, we get a nice error message:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ deno run ts_example.ts
Compile file:///Users/kevingimbel/Development/private/deno/hello-world/ts_example.ts
error: Uncaught TypeError: sum is not a <span style="color:#66d9ef">function</span>
console.log<span style="color:#f92672">(</span>sum<span style="color:#f92672">(</span>4, <span style="color:#e6db74">&#34;6&#34;</span><span style="color:#f92672">))</span>;
            ^
    at file:///Users/kevingimbel/Development/private/deno/hello-world/ts_example.ts:3:13
</code></pre></div><p>Types are incredibly helpful and in my opinion TypeScript is a blessing to the JavaScript world. Strong types are also one of the things I love about Rust - it just makes things clear and clean, even if it is hard sometimes.</p>
<h2 id="file-system-access">File system access</h2>
<p>Besides out-of-the-box TypeScript support, Denos security concept makes it very interesting, especially when you think about a Enterprise context and running code on servers where tight sandboxing and access control is important.</p>
<p>Here&rsquo;s another example. We use the std library <code>fs</code> module and the async function <code>exists</code> to check if a directory exists. If we run the code as it is with <code>deno run dir.ts</code> it will fail.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">// file: dir.ts
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">exists</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;https://deno.land/std/fs/mod.ts&#34;</span>;

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">my_dir_exists</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">exists</span>(<span style="color:#e6db74">&#34;./foo&#34;</span>); <span style="color:#75715e">// returns a Promise&lt;boolean&gt;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">my_dir_exists</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Found directory!&#34;</span>);
} <span style="color:#66d9ef">else</span> {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Directory doesn&#39;t exist&#34;</span>);
}
</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ deno run dir.ts
error: Uncaught PermissionDenied: read access to <span style="color:#e6db74">&#34;/Users/kevingimbel/Development/private/deno/hello-world/foo&#34;</span>, run again with the --allow-read flag
    at unwrapResponse <span style="color:#f92672">(</span>$deno$/ops/dispatch_json.ts:43:11<span style="color:#f92672">)</span>
    at Object.sendAsync <span style="color:#f92672">(</span>$deno$/ops/dispatch_json.ts:98:10<span style="color:#f92672">)</span>
    at async lstat <span style="color:#f92672">(</span>$deno$/ops/fs/stat.ts:69:16<span style="color:#f92672">)</span>
    at async exists <span style="color:#f92672">(</span>https://deno.land/std/fs/exists.ts:8:5<span style="color:#f92672">)</span>
    at async file:///Users/kevingimbel/Development/private/deno/hello-world/dir.ts:8:23
</code></pre></div><p>As it turns out, we do not have write access so the script cannot check if a directory exists - this also means none of our dependencies can access the file system! To give the script read access the <code>--allow-read</code> flag can be used.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ deno run --allow-read dir.ts 
Directory doesn<span style="color:#960050;background-color:#1e0010">&#39;</span>t exist
</code></pre></div><p><code>--allow-read</code> takes a directory as parameter, so the read access can be restricted to only a certain directory and sub-directories, as the following example shows:</p>
<p>Given the directory structure</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">‚îú‚îÄ‚îÄ dir.ts
‚îú‚îÄ‚îÄ test1
‚îú‚îÄ‚îÄ test2
</code></pre></div><p>Access to can be restricted to only <code>test1</code> with <code>--allow-read=./test1</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-ts" data-lang="ts"><span style="color:#75715e">// file: dir_test1.ts
</span><span style="color:#75715e"></span><span style="color:#66d9ef">import</span> { <span style="color:#a6e22e">exists</span> } <span style="color:#66d9ef">from</span> <span style="color:#e6db74">&#34;https://deno.land/std/fs/mod.ts&#34;</span>;

<span style="color:#66d9ef">const</span> <span style="color:#a6e22e">my_dir_exists</span> <span style="color:#f92672">=</span> <span style="color:#66d9ef">await</span> <span style="color:#a6e22e">exists</span>(<span style="color:#e6db74">&#34;./test1&#34;</span>); <span style="color:#75715e">// returns a Promise&lt;boolean&gt;
</span><span style="color:#75715e"></span><span style="color:#66d9ef">if</span> (<span style="color:#a6e22e">my_dir_exists</span>) {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Found directory!&#34;</span>);
} <span style="color:#66d9ef">else</span> {
  <span style="color:#a6e22e">console</span>.<span style="color:#a6e22e">log</span>(<span style="color:#e6db74">&#34;Directory doesn&#39;t exist&#34;</span>);
}
</code></pre></div><p>Here the script is executed with both directories - for some reason I needed the <code>--unstable</code> flag when a directory is passed to <code>--allow-read</code>.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ deno run --allow-read<span style="color:#f92672">=</span>./test2 --unstable dir_test1.ts 
error: Uncaught PermissionDenied: read access to <span style="color:#e6db74">&#34;/Users/kevingimbel/Development/private/deno/hello-world/test1&#34;</span>, run again with the --allow-read flag
    at unwrapResponse <span style="color:#f92672">(</span>$deno$/ops/dispatch_json.ts:43:11<span style="color:#f92672">)</span>
    at Object.sendAsync <span style="color:#f92672">(</span>$deno$/ops/dispatch_json.ts:98:10<span style="color:#f92672">)</span>
    at async lstat <span style="color:#f92672">(</span>$deno$/ops/fs/stat.ts:69:16<span style="color:#f92672">)</span>
    at async exists <span style="color:#f92672">(</span>https://deno.land/std/fs/exists.ts:8:5<span style="color:#f92672">)</span>
    at async file:///Users/kevingimbel/Development/private/deno/hello-world/dir_test1.ts:8:23

$ deno run --allow-read<span style="color:#f92672">=</span>./test1 --unstable dir_test1.ts 
Found directory!
</code></pre></div><p>I&rsquo;m incredibly excited for the future of Deno and I hope it will shift the JavaScript world into a more sandboxed, secure future. So far it is very promising.</p>
<p>The full announcement blog post can be found <a href="https://deno.land/v1">on the deno blog</a></p>

            </div>
        </article>
    </section>
</main>
</section>

    <section class="site-support">
<section class="tags-categories">
    

<section class="categories">
    <h3>Categories</h3>
    <ul class="tag-list">
        
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts categorized under coding"
                href="https://kevingimbel.de/categories/coding/">coding</a>
        </li></ul>
</section>

    

<section class="tags">
    <h3>Tags</h3>
    <ul class="tag-list">
        
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with javascript"
                href="https://kevingimbel.de/tags/javascript/">javascript</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with node"
                href="https://kevingimbel.de/tags/node/">node</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with runtime"
                href="https://kevingimbel.de/tags/runtime/">runtime</a>
        </li>
        <li class="tag-list__item">
            <a class="tag-list__link" title="View all posts tagged with rust"
                href="https://kevingimbel.de/tags/rust/">rust</a>
        </li></ul>
</section>

</section>
    <section class="article-nextprev">
  <article class="article__next">
      <span class="txt--bold">Next article</span><br>
  
      <a class="txt--medium" href="https://kevingimbel.de/blog/2020/05/diy-face-masks/" title="DIY Face Masks">DIY Face Masks</a>
  
  </article>

  <article class="article__prev">
      <span class="txt--bold">Previous article</span><br>
  
      <a class="txt--medium" href="https://kevingimbel.de/blog/2020/05/unreal-engine-5-demo/" title="Unreal Engine 5 Demo">Unreal Engine 5 Demo</a>
      
  </article>
</section>
    <section class="support">
    <h4>Like this?</h4>
    <p>If this content has helped you or your company, consider making a donation to a good cause.</p>
    <p>For example, consider donating to the following causes:</p>
    <div class="support-cause-list__wrapper">
        <ul class="support-cause-list">
            <li class="head"><b>International</b></li>
            <li><a rel="nofollow" href="https://donate.doctorswithoutborders.org/onetime.cfm">Doctors without borders</a></li>
            <li><a rel="nofollow" href="https://www.amnesty.org/en/donate/">Amnesty International</a></li>
        </ul>
        <ul class="support-cause-list">
            <li class="head"><b>Germany</b></li>
            <li><a rel="nofollow" href="https://www.uno-fluechtlingshilfe.de/unterstuetzen/spenden/jetzt-spenden/">UNO Fl√ºchtlingshilfe</a></li>
            <li><a rel="nofollow" href="https://www.amnesty.de/spenden">Amnesty</a></li>
            <li><a rel="nofollow" href="https://www.greenpeace.de/spenden">Greenpeace</a></li>
        </ul>
    </div>
</section>

    <section class="author">
    <div class="left">
        <img src="/images/general/kevin-gimbel-2020_hu6d6852ea5f23d3570eb4d6a09e2c1824_341389_200x200_resize_q75_lanczos.jpg" alt="A Selfie of me" class="avatar">
    </div>
    <div class="right">
        <p>Kevin Gimbel</p>
<p><strong>is a DevOps Engineer and avid (Video) Gamer</strong>. He&rsquo;s also interested in Sci-Fi, Cyberpunk, and dystopian books.</p>
<p><em>Wearing a mask is a good idea!</em></p>
<p>You can find out more <a href="/about/">about me</a> if you wish.</p>

    </div>
</section>
</section>

    <footer class="site-footer footer">
        
        
        
        <nav role="navigation" id="footer-navigation" aria-label="Secondary Navigation">
        <p>More sections on this site </p>
        <ul class="nav-footer">
            <li class="nav-item">
                <a href="/reading/">Books</a>
            </li>
            <li class="nav-item">
                <a href="/link-list/">Links</a>
            </li>
            <li class="nav-item">
                <a href="/art/">Art</a>
            </li>
            <li class="nav-item">
                <a href="/now/">Now</a>
            </li>
            <li class="nav-item">
                <a href="/rss/">RSS</a>
            </li></ul>
        </nav>
        


        <div class="left">
            <p>&copy; 2009 - 2021 Kevin Gimbel. <a href="https://github.com/kevingimbel/kevingimbel.de/blob/master/LICENSE" title="View License on GitHub.com">License</a>. <a href="/blog/2020/01/no-tracking/">No Tracking</a>.</p>
            <p><small>Follow me on <a href="https://twitter.com/kevingimbel" title="Follow me on Twitter">Twitter @kevingimbel</a></small></p>
            </p>
        </div>
        <div class="right">
            <p><small class="xx-small">Found an issue? Edit this <a href="https://github.com/kevingimbel/kevingimbel.de/tree/master/content/en/blog/2020-05-18-deno-v1.md">page on GitHub.com</a></a></small></p>
            <p><small class="xx-small">Made in Europe üá™üá∫ with love, <a href="/thanks">open source code</a> and <a href="https://gohugo.io/" title="Hugo static site generator" rel="nofollow">hugo</a>.<span class="fg-accent">&hearts;</span>.</small>
            </p>
            <p><small class="xx-small"><a href="/legal">Imprint</a></small></p>
            <p><small class="xx-small"><code>¬Ø\_(„ÉÑ)_/¬Ø</code></small></p>
        </div>  
    </footer>
    </section>
    


</body>

</html>
