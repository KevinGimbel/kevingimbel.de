{{ define "main" }}
{{ with .Site.Params.debug }}
{{ partial "debug.html" "taxonomy/tag.html" }}
{{ end }}

{{- $borderStyle := partial "helper-border-radius.html" . -}}
<main id="main" {{ printf "style=%q" $borderStyle | safeHTMLAttr }} class="main {{ .Section }}">
    <section class="article-list__intro">
        <h1>{{ i18n "ui_all_in_tag" . }}</h1>
    </section>

    {{ $i := 0 }}
    {{ range .Data.Pages.GroupByDate "2006" }}
    {{ $i = add $i 1 }}
    {{ $borderStyle :=  printf "--this-border-radius: var(--border-radius-fancy-%d)" $i }}
        <section class="term-wrapper flow" {{ printf "style=%q" $borderStyle | safeHTMLAttr }}>
                <article class="flow">
                    <h4>{{ .Key }}</h4>
                    <ul class="term-list">
                        {{ range .Pages }}
                            <li class="term-list__item"><a class="term-list__link" href="{{ .Permalink }}">{{ .Title }}</a></li>
                        {{ end }}
                    </ul>
                </article>
        </section>
        {{ if gt $i 3 }}
            {{ $i = 0 }}
        {{ end }}
    {{ end }}
    
</main>
{{ end }}